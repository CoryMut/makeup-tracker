{% extends 'index.html' %}

{% block content %}
<div class="container justify-content-center main-label">
    <h1 class="display-4 text-center mt-5">Search Results</h1>
    <p class="lead text-center mb-5">There are {{products | length}} results for "{{search_term}}".</p>
</div>

{% include 'display_products.html' %}

<nav class="d-flex justify-content-center" aria-label="Pages">
    <ul class="pagination pagination-lg">
      <!-- <li class="page-item">
        <a class="page-link" href="#" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li> -->

      {% if page_num == 1 %}
      {{page_link(number=1)}}
      {% else %}

      {% for i in range(1,page_num) %}

      {{page_link(number=i)}}

      {% endfor %}
      {% endif %}
      <!-- <li class="page-item"><a class="page-link" href="#">1</a></li>
      <li class="page-item"><a class="page-link" href="/search?search-term=cream&offset={{28 * 1}}">2</a></li>
      <li class="page-item"><a class="page-link" href="#">3</a></li>
      <li class="page-item">
        <a class="page-link" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li> -->
    </ul>
  </nav>
{% endblock %}

{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.19.2/axios.min.js" integrity="sha256-T/f7Sju1ZfNNfBh7skWn0idlCBcI3RwdLSS4/I7NQKQ=" crossorigin="anonymous"></script>
<script src='/static/add_to_collection.js'></script>
{% endblock %}

{% macro page_link(number) -%}
<li class="page-item"><a class="page-link" href="/search?search-term={{search_term}}&offset={{28 * (number - 1)}}">{{number}}</a></li>
{%- endmacro %}

